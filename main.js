!function(t){var e={};function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const a=[];let s=localStorage.getItem("taskID")?JSON.parse(localStorage.getItem("taskID")):0;localStorage.setItem("taskID",JSON.stringify(s));let o=localStorage.getItem("projects")?JSON.parse(localStorage.getItem("projects")):[];localStorage.setItem("projects",JSON.stringify(o));JSON.parse(localStorage.getItem("projects"));const l=document.getElementById("add-task"),r=document.getElementById("task-form-container"),c=document.getElementById("add-task-btn"),i=()=>{for(let t=0;t<o.length;t++)if("active"==o[t].status)return o[t]},d=(document.getElementsByClassName("project"),document.getElementById("personal-projects-container")),m=document.getElementById("task-form-container"),g=document.getElementById("tasks-container"),u=document.getElementById("tasks-list"),p=(document.getElementsByClassName("task-remove-btn"),document.getElementById("add-task")),y=(t,e,n,a)=>{const s=document.createElement("div");s.classList.add("task-container");const o=document.createElement("p");o.classList.add("task-header"),o.textContent=t;const l=document.createElement("p");l.classList.add("task-date"),l.textContent=e;const r=document.createElement("span");r.classList.add("task-priority"),n&&(r.textContent="Important");const c=document.createElement("div");c.classList.add("task-remove-btn"),c.id=a,s.appendChild(o),s.appendChild(l),s.appendChild(r),s.appendChild(c),u.appendChild(s)},f=t=>{document.getElementById("project-title").textContent=t},k=t=>{let e=(t=>{for(let e=0;e<o.length;e++){if(o[e].name==t)return o[e].status="active",o[e];o[e].status="idle"}})(t).taskList;if(u.innerHTML="",p.style.display="block",e.length>0)for(let t=0;t<e.length;t++)y(...Object.values(e[t]))},E=document.getElementById("ul-title"),I=document.getElementById("projects-list"),v=document.getElementById("lateral-container"),j=document.getElementById("add-task"),L=()=>{let t=prompt("Project Name: ");if(t){(t=>{o.push(t),localStorage.setItem("projects",JSON.stringify(o))})((t=>{let e=[];return{name:t,taskList:e,status:"idle",addTask:t=>{e.push(t)},removeTask:t=>{for(let n=0;n<e.length;n++)e[n].id==t&&e.splice([n],1)}}})(t))}},h=()=>{I.innerHTML="";for(let t=0;t<o.length;t++){let e=document.createElement("li");e.classList.add("project"),e.appendChild(document.createTextNode(o[t].name));const n=document.createElement("div");n.classList.add("project-remove-btn"),e.appendChild(n),I.appendChild(e)}},S=()=>{const t=document.getElementById("tasks-list"),e=document.getElementById("project-title");0==o.length?(e.textContent="You have no projects. Let's create a new one!",e.style.textAlign="center",t.textContent="",j.style.display="none"):o.length>0&&(e.textContent="Select one of your projects",e.style.textAlign="center",t.textContent="",j.style.display="none")},b=document.getElementById("important"),B=document.getElementById("tasks-list");h(),o.forEach(t=>{k(t.name)}),S(),E.addEventListener("click",()=>{L(),h(),f(o[o.length-1].name),o[o.length-1].status="active",k(o[o.length-1].name),j.style.display="block"}),v.addEventListener("click",t=>{if(t.target.classList.contains("project-remove-btn")){let e=t.target.previousSibling.textContent;confirm("Press OK to delete the project")&&(t=>{for(let e=0;e<o.length;e++)o[e].name==t&&"active"==o[e].status?(o.splice([e],1),localStorage.setItem("projects",JSON.stringify(o)),S()):o[e].name==t&&(o.splice([e],1),localStorage.setItem("projects",JSON.stringify(o)))})(e),h()}}),d.addEventListener("click",t=>{t.target&&t.target.classList.contains("project")&&(f(t.target.textContent),k(t.target.textContent))}),m.addEventListener("click",t=>{if(t.target&&"add-task-btn"==t.target.id){let t=document.getElementById("project-title").textContent;k(t)}}),g.addEventListener("click",t=>{t.target&&t.target.classList.contains("task-container")&&t.target.classList.toggle("erased")}),g.addEventListener("click",t=>{if(t.target&&t.target.classList.contains("task-remove-btn")){let e=t.target.id,n=i();console.log(n);for(let t=0;t<n.taskList.length;t++)n.taskList[t].id==e&&n.taskList.splice([t],1);localStorage.setItem("projects",JSON.stringify(o)),k(n.name)}}),l.addEventListener("click",()=>{r.style.display="flex"}),c.addEventListener("click",()=>{r.style.display="none"}),c.addEventListener("click",t=>{t.preventDefault();let e=((t,e,n)=>{let o={title:t,dueDate:e,priority:n,id:s};return s++,localStorage.setItem("taskID",JSON.stringify(s)),a.push(o),o})(document.getElementById("name").value,document.getElementById("date").value,document.getElementById("priority").checked);i().taskList.push(e),localStorage.setItem("projects",JSON.stringify(o)),console.log(o)}),b.addEventListener("click",()=>{const t=document.getElementById("project-title");t.textContent="Important Tasks",t.style.textAlign="center",B.innerHTML=""})}]);